env HOME=$WORK/home
env $=$

! unparam .
cmpenv stderr stderr.golden

-- go.mod --
module testdata.tld/foo
-- stderr.golden --
$WORK/foo.go:7:19: oneUnused - b is unused
$WORK/foo.go:15:18: sliceUnused - f is unused
-- foo.go --
package foo

var DoWork func()

func allUsed(a, b int) int { return a + b }

func oneUnused(a, b int) int {
	return a + 123
}

type fooStruct struct {
	f int
}

func sliceUnused(f []fooStruct) {
	DoWork()
}
